<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KAPSIV</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
  </head>
  <body>
    
    <div class="loading-screen">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 872.31 766.41" class="loading-logo">
        <defs>
          <style>
            .cls-2 {
              filter: url(#luminosity-noclip-2);
            }
            .cls-3 {
              fill: none;
              stroke: #4e4738;
              stroke-miterlimit: 10;
              stroke-width: 131px;
            }
            .cls-4 {
              mask: url(#mask-1);
            }
            .cls-5 {
              fill: #000;
            }
          </style>
          <filter id="luminosity-noclip" x="0" y="-8583.02" width="872.31" height="32766" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
            <feFlood flood-color="#fff" result="bg"/>
            <feBlend in="SourceGraphic" in2="bg"/>
          </filter>
          <filter id="luminosity-noclip-2" x="-67.24" y="-108.98" width="1000" height="1000" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
            <feFlood flood-color="#fff" result="bg"/>
            <feBlend in="SourceGraphic" in2="bg"/>
          </filter>
          <mask id="mask-1" x="-67.24" y="-108.98" width="1000" height="1000" maskUnits="userSpaceOnUse" mask-type="luminance">
            <g class="cls-2">
              <g>
                <rect x="-67.24" y="-108.98" width="1000" height="1000" fill="#fff"/>
                <path class="cls-5" d="M129.06,489.11c0,81.74,66.5,148.25,148.25,148.25s148.25-66.5,148.25-148.25v-148.25h-148.25c-81.74,0-148.25,66.5-148.25,148.25Z"/>
                <path class="cls-5" d="M-67.24-108.98v1000h1000V-108.98H-67.24ZM789.72,683.81c-52.01,52.01-121.16,80.65-194.71,80.65h-133.17c17.81-11.95,34.46-25.64,49.83-41,25.38-25.38,46.2-54.28,62.11-86.11h21.24c81.74,0,148.25-66.5,148.25-148.25s-66.5-148.25-148.25-148.25h-42.34v148.25h-.02c0,37.14-7.29,73.21-21.66,107.2-13.87,32.8-33.71,62.24-58.98,87.5-25.27,25.27-54.7,45.11-87.5,58.98-33.99,14.38-70.05,21.66-107.2,21.66v.02c-73.55,0-142.7-28.64-194.71-80.65C30.59,631.8,1.94,562.66,1.94,489.11s28.64-142.7,80.65-194.71c52.01-52.01,121.16-80.65,194.71-80.65h133.92c-23.84-50.03-74.91-84.69-133.92-84.69V1.94c73.55,0,142.7,28.64,194.71,80.65,36.68,36.68,61.74,81.89,73.32,131.15h49.67c73.55,0,142.7,28.64,194.71,80.65,52.01,52.01,80.65,121.16,80.65,194.71s-28.64,142.7-80.65,194.71Z"/>
              </g>
            </g>
          </mask>
        </defs>
        <g class="cls-1">
          <g id="layer_1" data-name="layer 1">
            <g class="cls-4">
              <path id="logo" class="cls-3" d="M277.3,65.5c116.97,0,211.8,94.83,211.8,211.8v211.8c0,116.97-94.83,211.8-211.8,211.8s-211.8-94.83-211.8-211.8h0c0-116.97,94.83-211.8,211.8-211.8h317.7c116.97,0,211.8,94.83,211.8,211.8h0c0,116.97-94.83,211.8-211.8,211.8h-211.8"/>
            </g>
          </g>
        </g>
      </svg>
    </div>

    <div id="app"></div>

    <div class="blu modal" role="dialog" aria-modal="true" aria-labelledby="window-title-blu">
      <div class="modal-window-bar">
        <div id="window-title-blu" class="modal-window-title">about</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-header">
        <div class="about-banner">
          <img
            src="https://wordpress-1498213-5726420.cloudwaysapps.com/wp-content/uploads/2025/10/kapsiv-profile.png"
            alt="Kapilan's profile"
            class="about-photo"
          >
          <div class="about-info">
            <h2>kapilan sivanesan</h2>
            <p>> aspiring designer and developer</p>
            <p>> based in london</p>
            <p class="now-playing-pill">
              currently listening to:
              <span class="now-playing-wrap">
                <span class="now-playing-inner">
                  <span class="now-playing-text"> loading...</span>
                  <span class="now-playing-text now-playing-duplicate" aria-hidden="true"> loading...</span>
                </span>
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="modal-window-content modal-window-content--offwhite">
        <div class="about-body">
          <p>hello i'm kaps! i am learning to design things and program. i'm especially interested in:</p>
          <ul>
            <li>graphic design</li>
            <li>web dev</li>
            <li>game dev</li>
            <li>3d modelling</li>
            <li>guitar</li>
            <li>typography</li>
          </ul><br>

          <p>any questions? send a message to <a href="me@kapsiv.com">me@kapsiv.com</a> :D</p><br>

          <h3>education</h3>
          <p>master's in biology, university of oxford<br><small>2021-2025</small></p>

          <h3>work</h3>
          <p>data engineering, city of london<br><small>2025-present</small></p>

          <h3>other interests</h3>
          <ul>
            <li>biology</li>
            <li>music production</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="reflectiv modal modal--wide" role="dialog" aria-modal="true" aria-labelledby="window-title-reflectiv">
      <div class="modal-window-bar">
        <div id="window-title-reflectiv" class="modal-window-title">kaps' music data</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-tab-strip" role="tablist" aria-label="reflectiv tabs">
        <button
          type="button"
          class="modal-tab is-active"
          data-reflectiv-tab="reflectiv"
          role="tab"
          aria-selected="true"
          aria-controls="reflectiv-tab-panel"
          id="reflectiv-tab-button"
        >
          reflectIV
          <span class="ui-tooltip">
            <span class="ui-tooltip-trigger" aria-label="reflectIV description" tabindex="0">i</span>
            <span class="ui-tooltip-content" role="tooltip">like my own kind of spotify wrapped! statistics and visualisations of my music listening habits</span>
          </span>
        </button>
        <button
          type="button"
          class="modal-tab"
          data-reflectiv-tab="library"
          role="tab"
          aria-selected="false"
          aria-controls="library-tab-panel"
          id="library-tab-button"
        >
          music library
        </button>
      </div>
      <div class="modal-window-content">
        <section
          id="reflectiv-tab-panel"
          class="reflectiv-panel is-active"
          data-reflectiv-panel="reflectiv"
          role="tabpanel"
          aria-labelledby="reflectiv-tab-button"
        >
        <div id="reflectiv-root" class="reflectiv-body">
          <div id="reflectiv-loading-overlay" class="reflectiv-loading-overlay visible">
            <div class="reflectiv-loading-box">
              <div class="loading-spinner"></div>
              <p id="reflectiv-loading-main" class="loading-main">loading last.fm data...</p>
              <p class="loading-sub">(this might take a while)</p>
            </div>
          </div>

          <div class="reflectiv-nowplaying-widget">
            <div class="rnw-slider-track">
              <div class="rnw-slider-hint">
                <span class="rnw-slider-text">slide to expand</span>
                <span class="rnw-slider-arrow" aria-hidden="true">>></span>
              </div>
              <div class="rnw-slider-thumb">
                <div class="rnw-pill-content">
                  <div class="rnw-art-wrapper">
                    <img class="rnw-art" src="" alt="Current album art">
                    <div class="rnw-art-placeholder">â™ª</div>
                  </div>
                  <div class="rnw-meta">
                    <div class="rnw-label">currently listening to</div>
                    <div class="rnw-title">loading...</div>
                    <div class="rnw-artist"></div>
                    <div class="rnw-album"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="reflectiv-filters">
            <button class="reflectiv-filter active" data-range="all">ALL</button>
            <button class="reflectiv-filter" data-range="year">YEAR</button>
            <button class="reflectiv-filter" data-range="month">MONTH</button>
            <button class="reflectiv-filter" data-range="week">WEEK</button>
          </div>

          <div class="reflectiv-facts">
            <div class="fact-card">
              <span class="fact-label">total scrobbles</span>
              <span class="fact-value" id="fact-total-scrobbles">-</span>
            </div>
            <div class="fact-card">
              <span class="fact-label">most active day</span>
              <span class="fact-value" id="fact-busiest-day">-</span>
            </div>
            <div class="fact-card">
              <span class="fact-label">first scrobble</span>
              <span class="fact-value" id="fact-last-updated">-</span>
            </div>
            <div class="fact-card">
              <span class="fact-label">last scrobble</span>
              <span class="fact-value" id="fact-first-scrobble">-</span>
            </div>
          </div>

          <section class="chart-section">
            <h3 class="chart-title">scrobbles over time</h3>
            <canvas id="scrobblesOverTime"></canvas>
          </section>

          <section class="chart-row">
            <div class="chart-section half">
              <h3 class="chart-title">top artists</h3>
              <div class="top-artists-columns">
                <span>artist</span>
                <span>scrobbles</span>
              </div>
              <div class="top-artists-scroll">
                <ul id="topArtistsList" class="top-artists-list">
                  <li>
                    <span class="artist-name">loading...</span>
                    <span class="artist-count">-</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="chart-section half">
              <h3 class="chart-title">top tags</h3>
              <canvas id="tagPie"></canvas>
            </div>
          </section>

          <section class="chart-section">
            <h3 class="chart-title">peak hours</h3>
            <canvas id="peakHours"></canvas>
          </section>

        </div>
        </section>
        <section
          id="library-tab-panel"
          class="reflectiv-panel"
          data-reflectiv-panel="library"
          role="tabpanel"
          aria-labelledby="library-tab-button"
        >
          <div id="musiclib-root" class="musiclib-body">
            <div class="reflectiv-facts">
              <div class="fact-card">
                <span class="fact-label">number of albums</span>
                <span class="fact-value" id="musiclib-total-albums">-</span>
              </div>
              <div class="fact-card">
                <span class="fact-label">number of songs</span>
                <span class="fact-value" id="musiclib-total-songs">-</span>
              </div>
              <div class="fact-card fact-card--clickable" id="musiclib-artists-card" role="button" tabindex="0" aria-label="Open artists list">
                <span class="fact-label">number of artists</span>
                <span class="fact-value" id="musiclib-total-artists">-</span>
              </div>
              <div class="fact-card fact-card--clickable" id="musiclib-genres-card" role="button" tabindex="0" aria-label="Open genres list">
                <span class="fact-label">number of genres</span>
                <span class="fact-value" id="musiclib-total-genres">-</span>
              </div>
            </div>

            <section class="chart-section">
              <div class="chart-title-row chart-title-row--split">
                <h3 class="chart-title">albums by year</h3>
                <div class="musiclib-year-filter">
                  <span class="musiclib-year-filter-label" tabindex="0">filter by genre</span>
                  <div class="musiclib-year-filter-popover">
                    <label class="musiclib-year-filter-field" for="libraryYearGenreFilter">genre group</label>
                    <select id="libraryYearGenreFilter" class="musiclib-year-filter-select">
                      <option value="all">all genres</option>
                    </select>
                  </div>
                </div>
              </div>
              <canvas id="libraryAlbumsByYear"></canvas>
            </section>

            <section class="chart-section">
              <div class="chart-title-row chart-title-row--split">
                <h3 class="chart-title">albums by country</h3>
                <div class="musiclib-year-filter">
                  <span class="musiclib-year-filter-label" tabindex="0">filter by genre</span>
                  <div class="musiclib-year-filter-popover">
                    <label class="musiclib-year-filter-field" for="libraryCountryGenreFilter">genre group</label>
                    <select id="libraryCountryGenreFilter" class="musiclib-year-filter-select">
                      <option value="all">all genres</option>
                    </select>
                  </div>
                </div>
              </div>
              <canvas id="libraryWorldMap"></canvas>
              <p id="libraryWorldMapNote" class="chart-note">loading map...</p>
            </section>

            <div class="musiclib-controls">
              <div class="reflectiv-filters musiclib-metric-filters">
                <button class="reflectiv-filter musiclib-metric-filter active" data-metric="songs">songs</button>
                <button class="reflectiv-filter musiclib-metric-filter" data-metric="albums">albums</button>
              </div>
            </div>

            <section class="chart-row musiclib-rankings-row">
              <div class="chart-section">
                <h3 class="chart-title">top artists</h3>
                <div class="top-artists-columns library-ranking-columns">
                  <span>artist</span>
                  <span id="libraryTopArtistsCountLabel">songs</span>
                  <span>%</span>
                </div>
                <div class="top-artists-scroll top-artists-scroll--tall">
                  <ul id="libraryTopArtistsList" class="top-artists-list top-artists-list--three-cols">
                    <li>
                      <span class="artist-name">loading...</span>
                      <span class="artist-count">-</span>
                      <span class="artist-share">-</span>
                    </li>
                  </ul>
                </div>
              </div>

              <div class="chart-section">
                <div class="chart-title-row">
                  <h3 class="chart-title">top genres</h3>
                  <span class="ui-tooltip">
                    <button type="button" class="ui-tooltip-trigger" aria-label="Genre notes">i</button>
                    <span class="ui-tooltip-content" role="tooltip">note: releases can be tagged with multiple genres</span>
                  </span>
                </div>
                <div class="top-artists-columns library-ranking-columns">
                  <span>genre</span>
                  <span id="libraryTopGenresCountLabel">songs</span>
                  <span>%</span>
                </div>
                <div class="top-artists-scroll top-artists-scroll--tall">
                  <ul id="libraryTopGenresList" class="top-artists-list top-artists-list--three-cols">
                    <li>
                      <span class="artist-name">loading...</span>
                      <span class="artist-count">-</span>
                      <span class="artist-share">-</span>
                    </li>
                  </ul>
                </div>
              </div>
            </section>

            <section class="chart-row">
              <div class="chart-section half">
                <div class="chart-title-row">
                  <h3 class="chart-title">genre distribution</h3>
                  <span class="ui-tooltip">
                    <button type="button" class="ui-tooltip-trigger" aria-label="Genre distribution notes">i</button>
                    <span class="ui-tooltip-content" role="tooltip">subgenres have been grouped under genre groups</span>
                  </span>
                </div>
                <canvas id="libraryGenreUmbrellaPie"></canvas>
              </div>
              <div class="chart-section half">
                <h3 class="chart-title">filetype distribution</h3>
                <canvas id="libraryFileTypePie"></canvas>
              </div>
            </section>

            <section class="chart-section">
              <h3 class="chart-title">song length distribution</h3>
              <canvas id="libraryDurationScatter"></canvas>
            </section>
          </div>
        </section>
      </div>
    </div>

    <div class="library-lookup modal modal--lookup" role="dialog" aria-modal="true" aria-labelledby="window-title-library-lookup">
      <div class="modal-window-bar">
        <div id="window-title-library-lookup" class="modal-window-title">artists</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-content">
        <div class="library-lookup-controls">
          <button id="libraryLookupGroupToggle" type="button" class="reflectiv-filter library-lookup-toggle" hidden>group genres: off</button>
        </div>
        <div class="library-lookup-scroll">
          <ul id="libraryLookupList" class="library-lookup-list">
            <li>loading...</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="nowplaying modal modal--nowplaying" role="dialog" aria-modal="true" aria-labelledby="window-title-nowplaying">
      <div class="modal-window-bar">
        <div id="window-title-nowplaying" class="modal-window-title">now playing</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-content">
        <div class="nowplaying-body">
          <div class="nowplaying-current">
            <div class="nowplaying-art-wrapper">
              <img class="nowplaying-art" src="" alt="Album art">
              <div class="nowplaying-art-placeholder">no artwork</div>
            </div>
            <div class="nowplaying-meta">
              <h3 class="nowplaying-title">loading...</h3>
              <p class="nowplaying-artist"></p>
            </div>
          </div>

          <div class="nowplaying-actions">
            <button type="button" class="reflectiv-filter nowplaying-see-scrobbles">see all scrobbles</button>
          </div>

          <div class="nowplaying-recent">
            <h4>recent tracks</h4>
            <ol class="nowplaying-recent-list">
              <li>loading your recent listens...</li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <div class="archive modal modal--wide" role="dialog" aria-modal="true" aria-labelledby="window-title-archive">
      <div class="modal-window-bar">
        <div id="window-title-archive" class="modal-window-title">archive</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-content">placeholder content...</div>
    </div>

    <div class="calendar modal modal--image" role="dialog" aria-modal="true" aria-labelledby="window-title-calendar">
      <div class="modal-window-bar">
        <div id="window-title-calendar" class="modal-window-title">calendar</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-content modal-window-content--image">
        <img src="/images/2026-mood.jpg" alt="2026 mood calendar" class="calendar-image">
      </div>
    </div>

    <div class="book modal modal--book" role="dialog" aria-modal="true" aria-labelledby="window-title-book">
      <div class="modal-window-bar">
        <div id="window-title-book" class="modal-window-title">dissertation</div>
        <button class="modal-exit-button" type="button" aria-label="Close window">X</button>
      </div>
      <div class="modal-window-content modal-window-content--book">
        <div class="book-shell" id="bookShell">
          <button class="book-cover" id="bookCoverButton" type="button" aria-label="Open book">
            <span class="book-cover-title">Structural and Functional Characterisation of nodD from <em>Rhizobium leguminosarum</em></span>
            <img src="/images/oxford-logo.png" alt="University of Oxford logo" class="book-cover-logo">
            <span class="book-cover-subtitle">Kapilan Sivanesan</span>
            <span class="book-cover-year">MBiol 2025</span>
          </button>
          <div class="book-spread">
            <div class="book-page">
              <canvas id="bookPageLeft" class="book-page-canvas"></canvas>
            </div>
            <div class="book-page">
              <canvas id="bookPageRight" class="book-page-canvas"></canvas>
            </div>
          </div>
        </div>
        <div class="book-controls">
          <button type="button" class="reflectiv-filter" id="bookOpenButton">open</button>
          <button type="button" class="reflectiv-filter" id="bookOpenPdfTab">open pdf</button>
          <span id="bookPageStatus" class="book-page-status">pages 1-2</span>
        </div>
      </div>
    </div>

    <div id="experience">
      <canvas id="experience-canvas" class="experience-canvas"></canvas>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
